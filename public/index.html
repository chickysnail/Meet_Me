<!-- filepath: index.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Connect with me - Personal landing page">
    <meta property="og:title" content="Let's Connect">
    <meta property="og:description" content="Personal landing page to connect with me">
    <meta property="og:type" content="website">

    <title>Let's Connect</title>

    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js'
        data-cf-beacon='{"token": "53ca806ad3434a8888ad6219dc97b125"}'></script>
</head>

<body>
    <div class="container">
        <div class="content">
            <div class="profile-section">
                <!-- Profile picture can be added here later -->
                <h1>Hi, I'm <span class="highlight">Artem</span>!</h1>
                <p class="tagline">Let's connect.</p>
            </div>

            <!-- Dating Form Section -->
            <div class="form-section">
                <h2>Tell me about yourself</h2>
                <form id="dating-form">
                    <div class="form-group">
                        <label for="age">Your age:</label>
                        <input type="number" id="age" name="age" min="18" max="100" required>
                    </div>

                    <div class="form-group">
                        <label for="gender">Your gender:</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select...</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="lookingFor">You're looking for:</label>
                        <select id="lookingFor" name="lookingFor" required>
                            <option value="">Select...</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Either">Either</option>
                        </select>
                    </div>

                    <button type="submit" class="submit-button">Submit</button>
                </form>
                <div id="form-response" class="hidden"></div>
            </div>

            <div class="contact-section">
                <a href="https://t.me/chickysnail" class="contact-button telegram">
                    <i class="fab fa-telegram"></i>
                    <span>Telegram</span>
                </a>
                <a href="https://wa.me/+4915901603806" class="contact-button whatsapp">
                    <i class="fab fa-whatsapp"></i>
                    <span>WhatsApp</span>
                </a>
            </div>
        </div>

        <footer>
            <p>&copy; <span id="current-year">2025</span> Artem. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Track visitor
        fetch('/api/track', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            }
        }).catch(err => console.error('Error tracking visit:', err));

        // Simple script to update the year automatically
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // Form submission handler
        document.getElementById('dating-form').addEventListener('submit', async function (e) {
            e.preventDefault();

            const formData = {
                age: document.getElementById('age').value,
                gender: document.getElementById('gender').value,
                lookingFor: document.getElementById('lookingFor').value
            };

            try {
                const response = await fetch('/api/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                const responseData = await response.json();

                const formResponse = document.getElementById('form-response');
                formResponse.classList.remove('hidden');

                if (responseData.success) {
                    formResponse.textContent = "Thanks for your submission! I'll be in touch soon.";
                    formResponse.className = 'success';
                    document.getElementById('dating-form').reset();
                } else {
                    formResponse.textContent = "There was an error with your submission. Please try again.";
                    formResponse.className = 'error';
                }
            } catch (error) {
                console.error('Error submitting form:', error);
                const formResponse = document.getElementById('form-response');
                formResponse.textContent = "There was an error submitting your form. Please try again later.";
                formResponse.className = 'error';
                formResponse.classList.remove('hidden');
            }
        });
    </script>
</body>

</html>